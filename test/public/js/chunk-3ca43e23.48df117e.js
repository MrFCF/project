(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3ca43e23"],{"07e0":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"publish"},[a("el-dialog",{attrs:{title:t.parameter.title,visible:t.seePublishDialogVisible,"close-on-click-modal":!1,center:"",width:"80%"},on:{"update:visible":function(e){t.seePublishDialogVisible=e},open:t.handleOpen}},[a("el-form",{ref:"publishForm",staticClass:"publish_warp",attrs:{"label-width":"100px",model:t.publishForm}},[a("el-form-item",{attrs:{label:"标题:",prop:"title"}},[t._v("\n                    "+t._s(t.publishForm.title)+"\n                ")]),a("el-form-item",{attrs:{label:"文章封面图:",id:"avatar-uploader"}},[t.publishForm.imageUrl?a("img",{staticClass:"avatar",attrs:{src:t.publishForm.imageUrl}}):t._e()]),a("el-form-item",{attrs:{label:"分类:"}},[t._v("\n                    "+t._s(t.publishForm.sort)+"\n                ")]),a("el-form-item",{attrs:{label:"简介:"}},[t._v("\n                    "+t._s(t.publishForm.content)+"\n                ")]),a("el-form-item",{staticClass:"rich_text uploadVideo_warp",attrs:{label:"视频:"}},[a("video",{staticStyle:{width:"500px",height:"300px"},attrs:{src:this.publishForm.url,controls:"controls"}})])],1)],1)],1)},i=[],l=(a("55dd"),a("8e44")),r={name:"publish",props:["parameter"],data:function(){return{seePublishDialogVisible:!1,publishForm:{title:"",sort:"",imageUrl:"",content:"",url:"",videoType:""}}},methods:{handleOpen:function(){var t=this,e={id:this.parameter.data.id};Object(l["Q"])(e).then(function(e){console.log(e),t.publishForm.title=e.data.data.title,t.publishForm.sort=e.data.data.sort,t.publishForm.imageUrl="http://"+e.data.data.tphoto,t.publishForm.content=e.data.data.content,t.publishForm.id=e.data.data.id,"本地视频"==e.data.data.videoType?t.publishForm.url="http://"+e.data.data.video:t.publishForm.url=e.data.data.url})}}},o=r,n=(a("3abe"),a("5c7b"),a("2877")),c=Object(n["a"])(o,s,i,!1,null,"03ace472",null);e["a"]=c.exports},"141e":function(t,e,a){},1869:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"publishArticle"},[a("el-row",{staticClass:"tabel_warp"},[a("el-col",{attrs:{span:24}},[a("search",{ref:"searchComponent",attrs:{searchData:t.searchData},on:{search:t.search_btn}}),a("div",{staticClass:"grid-content"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,border:""}},[a("el-table-column",{attrs:{prop:"id",label:"序号",width:"57",align:"center"}}),a("el-table-column",{attrs:{prop:"title",label:"标题",width:"118",align:"center","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{prop:"content",label:"简介",width:"131",align:"center","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{prop:"sort",label:"分类",width:"92",align:"center"}}),a("el-table-column",{attrs:{prop:"video",label:"视频链接",width:"212",align:"center","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{prop:"releaseTime",label:"发布日期",width:"165",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.releaseTime?a("span",[t._v(t._s(t._f("moment")(e.row.releaseTime)))]):t._e()]}}])}),a("el-table-column",{attrs:{prop:"status",label:"状态",width:"88",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[1==e.row.status?a("font",{attrs:{color:"#547BE8"}},[t._v("待审核")]):2==e.row.status?a("font",{attrs:{color:"#15BE9D"}},[t._v("已发布")]):t._e()]}}])}),a("el-table-column",{attrs:{prop:"reviewName",label:"审核人",width:"98",align:"center"}}),a("el-table-column",{attrs:{prop:"top",label:"是否置顶",width:"150",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-radio-group",{directives:[{name:"show",rawName:"v-show",value:2==e.row.status,expression:"tableData.row.status == 2"}],on:{change:function(a){return t.radioChange(e.row.id,e.row.top)}},model:{value:e.row.top,callback:function(a){t.$set(e.row,"top",a)},expression:"tableData.row.top"}},[a("el-radio",{attrs:{label:2}},[t._v("是")]),a("el-radio",{attrs:{label:1}},[t._v("否")])],1)]}}])}),a("el-table-column",{attrs:{prop:"address",label:"操作",width:"170",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{directives:[{name:"show",rawName:"v-show",value:2==e.row.status,expression:"tableData.row.status == 2"}],staticClass:"seeArticle",attrs:{size:"mini"},on:{click:function(a){return t.handleSee(e.$index,e.row)}}},[t._v("查看")]),a("el-button",{directives:[{name:"show",rawName:"v-show",value:1==e.row.status,expression:"tableData.row.status == 1"}],staticClass:"examineArticle",attrs:{size:"mini",type:"danger"},on:{click:function(a){return t.handleArticle(e.$index,e.row)}}},[t._v("审核")]),a("el-button",{directives:[{name:"show",rawName:"v-show",value:2==e.row.status,expression:"tableData.row.status == 2"}],staticClass:"deleteArticle",attrs:{size:"mini",type:"danger"},on:{click:function(a){return t.handleDelete(e.$index,e.row)}}},[t._v("删除")])]}}])})],1)],1),a("el-pagination",{attrs:{"current-page":t.searchContent.page,"page-sizes":[10,20,30,40],"page-size":t.searchContent.limit,layout:"total, sizes, prev, pager, next, jumper",total:t.total},on:{"update:currentPage":function(e){return t.$set(t.searchContent,"page",e)},"update:current-page":function(e){return t.$set(t.searchContent,"page",e)},"update:pageSize":function(e){return t.$set(t.searchContent,"limit",e)},"update:page-size":function(e){return t.$set(t.searchContent,"limit",e)},"current-change":t.FindAll,"size-change":t.FindAll}})],1)],1),a("examineMessage",{ref:"examineMessage",attrs:{parameter:t.parameter}}),a("seePublish",{ref:"seePublish",attrs:{parameter:t.parameter}})],1)},i=[],l=a("8e44"),r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"publish"},[a("el-dialog",{attrs:{title:t.parameter.title,visible:t.examinePublishDialogVisible,"close-on-click-modal":!1,center:"",width:"80%"},on:{"update:visible":function(e){t.examinePublishDialogVisible=e},open:t.handleOpen}},[a("el-form",{ref:"publishForm",staticClass:"publish_warp",attrs:{"label-width":"100px",model:t.publishForm}},[a("el-form-item",{attrs:{label:"标题:",prop:"title"}},[t._v("\n                    "+t._s(t.publishForm.title)+"\n                ")]),a("el-form-item",{attrs:{label:"文章封面图:",id:"avatar-uploader"}},[t.publishForm.imageUrl?a("img",{staticClass:"avatar",attrs:{src:t.publishForm.imageUrl}}):t._e()]),a("el-form-item",{attrs:{label:"分类:"}},[t._v("\n                    "+t._s(t.publishForm.sort)+"\n                ")]),a("el-form-item",{attrs:{label:"简介:"}},[t._v("\n                    "+t._s(t.publishForm.content)+"\n                ")]),a("el-form-item",{staticClass:"rich_text uploadVideo_warp",attrs:{label:"视频:"}},[a("video",{staticStyle:{width:"500px",height:"300px"},attrs:{src:this.publishForm.url,controls:"controls"}})]),a("el-form-item",{staticClass:"rich_text",attrs:{label:"内容:"}},[a("el-input",{attrs:{placeholder:"请输入驳回原因"},model:{value:t.oppose,callback:function(e){t.oppose=e},expression:"oppose"}})],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{staticClass:"rejectMessage",on:{click:t.rejectBtn}},[t._v("驳回")]),a("el-button",{staticClass:"DetermineMessage",attrs:{type:"primary"},on:{click:t.adoptBtn}},[t._v("通过")])],1)],1)],1)},o=[],n=(a("55dd"),{name:"publish",props:["parameter"],data:function(){return{oppose:"",examinePublishDialogVisible:!1,publishForm:{title:"",sort:"",imageUrl:"",content:"",url:"",videoType:""}}},methods:{FindId:function(){var t=this,e={id:this.parameter.data.id};Object(l["Q"])(e).then(function(e){t.publishForm.title=e.data.data.title,t.publishForm.sort=e.data.data.sort,t.publishForm.imageUrl="http://"+e.data.data.tphoto,t.publishForm.content=e.data.data.content,t.publishForm.id=e.data.data.id,"本地视频"==e.data.data.videoType?t.publishForm.url="http://"+e.data.data.video:t.publishForm.url=e.data.data.url})},rejectBtn:function(){var t=this;if(this.oppose){var e={id:this.parameter.data.id,oppose:this.oppose};Object(l["P"])(e).then(function(e){200==e.data.code?(t.$message.success(e.data.message),t.$parent.FindAll()):t.$message.error(e.data.message),t.examinePublishDialogVisible=!1})}else this.$message.error("请输入驳回原因")},adoptBtn:function(){var t=this;Object(l["P"])({id:this.parameter.data.id}).then(function(e){200==e.data.code?(t.$message.success(e.data.message),t.$parent.FindAll()):t.$message.error(e.data.message)}),this.examinePublishDialogVisible=!1},handleOpen:function(){this.FindId()}}}),c=n,u=(a("8f11"),a("f846"),a("2877")),d=Object(u["a"])(c,r,o,!1,null,"2d1bd05a",null),p=d.exports,h=a("07e0"),m={name:"publishArticle",data:function(){return{examinePublishDialogVisible:!1,seePublishDialogVisible:!1,parameter:{},total:0,searchData:{publisher:!0,status:!0,releasetime:!0,sort:{countName:l["j"]}},searchContent:{page:1,limit:10},tableData:[],index:"1"}},components:{examineMessage:p,seePublish:h["a"]},methods:{search_btn:function(t){this.searchContent=t[0],this.FindAll()},FindAll:function(){var t=this;Object(l["R"])(this.searchContent).then(function(e){for(var a in e.data.data)e.data.data[a].top>1&&(e.data.data[a].top=2);t.tableData=e.data.data,t.total=e.data.count})},handleArticle:function(t,e){this.$refs.examineMessage.examinePublishDialogVisible=!0,this.parameter={title:"审核",data:e}},handleDelete:function(t,e){var a=this;this.$confirm("删除后将不能恢复，确定要删除系统中的这条记录吗?","删除",{dangerouslyUseHTMLString:!0,confirmButtonText:"确定",cancelButtonText:"取消",center:!0,customClass:"deleteDlog",cancelButtonClass:"closeMessage",confirmButtonClass:"DetermineMessage"}).then(function(){var s={id:e.id};Object(l["s"])(s).then(function(t){200==t.data.code&&a.$message({type:"success",message:t.data.message})}),a.tableData.splice(t,1),console.log(t,e)}).catch(function(){a.$message({type:"info",message:"已取消删除"})})},handleSee:function(t,e){console.log(t,e),this.parameter={title:"查看",data:e},this.$refs.seePublish.seePublishDialogVisible=!0},radioChange:function(t,e){var a=this;e>1?Object(l["U"])({id:t}).then(function(t){200==t.status?a.$message.success("置顶成功"):a.$message.error("置顶失败")}):Object(l["W"])({id:t}).then(function(t){200==t.status?a.$message.success("取消置顶"):a.$message.error("取消失败")})}},beforeMount:function(){this.FindAll()}},b=m,f=(a("fc87"),Object(u["a"])(b,s,i,!1,null,"3a4d0bbe",null));e["default"]=f.exports},"3abe":function(t,e,a){"use strict";var s=a("fcc3"),i=a.n(s);i.a},"5b1a":function(t,e,a){},"5c7b":function(t,e,a){"use strict";var s=a("5b1a"),i=a.n(s);i.a},"8f11":function(t,e,a){"use strict";var s=a("141e"),i=a.n(s);i.a},a5c3:function(t,e,a){},cd1f:function(t,e,a){},f846:function(t,e,a){"use strict";var s=a("a5c3"),i=a.n(s);i.a},fc87:function(t,e,a){"use strict";var s=a("cd1f"),i=a.n(s);i.a},fcc3:function(t,e,a){}}]);
//# sourceMappingURL=chunk-3ca43e23.48df117e.js.map