(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e7d24b5e"],{"281b":function(e,t,a){},"92a5":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"publishArticle"},[a("el-row",[a("el-button",{staticClass:"publish_btn",on:{click:e.publish_btn}},[e._v("发布公告")])],1),a("el-row",{staticClass:"tabel_warp"},[a("el-col",{attrs:{span:24}},[a("search",{ref:"searchComponent",attrs:{searchData:e.searchData},on:{search:e.search_btn}}),a("div",{staticClass:"grid-content"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,border:""}},[a("el-table-column",{attrs:{prop:"id",label:"序号",width:"57",align:"center"}}),a("el-table-column",{attrs:{prop:"title",label:"标题",width:"118",align:"center","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{prop:"",label:"发布日期",width:"165",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e._f("moment")(t.row.releasetime)))])]}}])}),a("el-table-column",{attrs:{prop:"status",label:"状态",width:"88",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[1==t.row.status?a("font",{attrs:{color:"#547BE8"}},[e._v("待审核")]):2==t.row.status?a("font",{attrs:{color:"#15BE9D"}},[e._v("已发布")]):3==t.row.status?a("font",{attrs:{color:"#F52653"}},[e._v("已驳回")]):4==t.row.status?a("font",{attrs:{color:"#414142"}},[e._v("草稿箱")]):e._e()]}}])}),a("el-table-column",{attrs:{prop:"reviewname",label:"审核人",width:"98",align:"center"}}),a("el-table-column",{attrs:{prop:"oppose",label:"驳回原因",width:"173",align:"center","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{prop:"address",label:"操作",width:"171",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"show",rawName:"v-show",value:1!=t.row.status&&2!=t.row.status,expression:"tableData.row.status != 1 && tableData.row.status != 2"}],staticClass:"editArticle",attrs:{size:"mini"},on:{click:function(a){return e.handleEdit(t.$index,t.row)}}},[e._v("编辑")]),a("el-button",{directives:[{name:"show",rawName:"v-show",value:2==t.row.status,expression:"tableData.row.status == 2"}],staticClass:"seeArticle",attrs:{size:"mini"},on:{click:function(a){return e.handleSee(t.$index,t.row)}}},[e._v("查看")]),a("el-button",{directives:[{name:"show",rawName:"v-show",value:2!=t.row.status,expression:"tableData.row.status != 2"}],staticClass:"deleteArticle",attrs:{size:"mini"},on:{click:function(a){return e.handleDelete(t.$index,t.row)}}},[e._v("删除")])]}}])})],1)],1),a("el-pagination",{attrs:{"current-page":e.searchContent.page,"page-sizes":[10,20,30,40],"page-size":e.searchContent.limit,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"update:currentPage":function(t){return e.$set(e.searchContent,"page",t)},"update:current-page":function(t){return e.$set(e.searchContent,"page",t)},"update:pageSize":function(t){return e.$set(e.searchContent,"limit",t)},"update:page-size":function(t){return e.$set(e.searchContent,"limit",t)},"current-change":e.FindAll,"size-change":e.FindAll}})],1)],1),a("publish",{ref:"publish",attrs:{parameter:e.parameter}}),a("seePublish",{ref:"seePublish",attrs:{parameter:e.parameter}})],1)},s=[],r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"publish"},[e.publishDialogVisible?a("el-dialog",{attrs:{title:e.parameter.title,visible:e.publishDialogVisible,"close-on-click-modal":!1,center:"",width:"80%"},on:{"update:visible":function(t){e.publishDialogVisible=t}}},[a("el-form",{ref:"publishForm",staticClass:"publish_warp",attrs:{"label-width":"100px",model:e.publishForm,rules:e.publishRule}},[a("el-form-item",{attrs:{label:"标题:",prop:"title"}},[a("el-input",{attrs:{placeholder:"请输入标题"},model:{value:e.publishForm.title,callback:function(t){e.$set(e.publishForm,"title",t)},expression:"publishForm.title"}})],1),a("el-form-item",{staticClass:"rich_text",attrs:{label:"内容:",prop:"content"}},[a("vue-ueditor-wrap",{attrs:{config:e.myConfig},model:{value:e.publishForm.content,callback:function(t){e.$set(e.publishForm,"content",t)},expression:"publishForm.content"}})],1),a("el-form-item",[a("el-button",{staticClass:"previewBtn",on:{click:e.preview}},[e._v("预览")])],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{staticClass:"closeMessage",on:{click:function(t){e.publishDialogVisible=!1}}},[e._v("取 消")]),a("el-button",{staticClass:"DetermineMessage",attrs:{type:"primary"},on:{click:e.DetermineBtn}},[e._v("确 定")])],1)],1):e._e(),a("preview",{ref:"previewComponent",attrs:{publishForm:e.publishForm}})],1)},l=[],n=a("8e44"),o={name:"publish",props:["parameter"],data:function(){return{publishDialogVisible:!1,action:"",publishForm:{title:"",content:""},myConfig:{autoHeightEnabled:!1,initialFrameHeight:300,initialFrameWidth:"100%",serverUrl:"http://35.201.165.105:8000/controller.php",UEDITOR_HOME_URL:"UEditor/"},publishRule:{title:[{required:!0,message:"请输入标题",trigger:"blur"}],content:[{required:!0,message:"内容不能为空",trigger:"blur"}]}}},methods:{DetermineBtn:function(){var e=this;this.$refs["publishForm"].validate(function(t){if(!t)return e.$message({message:"内容不能为空",type:"warning"}),!1;e.parameter.data?Object(n["Y"])(e.publishForm).then(function(t){200==t.data.code&&e.$parent.FindAll()}).catch(function(t){e.$message.error(t)}):Object(n["e"])(e.publishForm).then(function(t){200==t.data.code&&e.$parent.FindAll()}).catch(function(t){e.$message.error(t)}),e.publishDialogVisible=!1})},beforeUpload:function(e){return!0},preview:function(){var e=this;this.$refs["publishForm"].validate(function(t){if(!t)return e.$message({message:"内容不能为空",type:"warning"}),!1;e.$refs.previewComponent.centerDialogVisible=!0})}},watch:{parameter:function(){this.parameter.data?this.publishForm=this.parameter.data:this.publishForm={title:"",content:""}}},mounted:function(){}},u=o,c=a("2877"),p=Object(c["a"])(u,r,l,!1,null,null,null),h=p.exports,m=a("9ef3"),b={name:"publishVideo",data:function(){return{publishDialogVisible:!1,seePublishDialogVisible:!1,parameter:{},tableData:[],index:"1",searchData:{publisher:!0,status:!0,releasetime:!0},searchContent:{page:1,limit:10},total:0}},components:{publish:h,seePublish:m["a"]},methods:{search_btn:function(e){this.searchContent=e[0],this.FindAll()},FindAll:function(){var e=this;Object(n["H"])(this.searchContent).then(function(t){e.tableData=t.data.data,e.total=t.data.count}).catch(function(t){e.$message.error()})},handleEdit:function(e,t){var a=this;Object(n["I"])({id:t.id}).then(function(e){a.parameter={title:"编辑",messageContent:t,jumParameter:a.$route.query.jumParameter,data:e.data},a.$refs.publish.publishDialogVisible=!0}).catch(function(e){})},handleDelete:function(e,t){var a=this;this.$confirm("删除后将不能恢复，确定要删除系统中的这条记录吗?","删除",{dangerouslyUseHTMLString:!0,confirmButtonText:"确定",cancelButtonText:"取消",center:!0,customClass:"deleteDlog",cancelButtonClass:"closeMessage",confirmButtonClass:"DetermineMessage"}).then(function(){Object(n["p"])({id:t.id}).then(function(e){200==e.data.code&&(a.total--,a.$message({type:"success",message:"删除成功!"}))}),a.tableData.splice(e,1)}).catch(function(){a.$message({type:"info",message:"已取消删除"})})},handleSee:function(e,t){var a=this;Object(n["I"])({id:t.id}).then(function(e){a.parameter={title:"查看",messageContent:t,jumParameter:a.$route.query.jumParameter,data:e.data},a.$refs.seePublish.seePublishDialogVisible=!0}).catch(function(e){})},publish_btn:function(){this.$refs.publish.publishDialogVisible=!0,this.parameter={title:"发布公告",messageContent:"",jumParameter:this.$route.query.jumParameter}}},beforeMount:function(){this.FindAll()}},d=b,f=(a("d22b"),Object(c["a"])(d,i,s,!1,null,"7767c85e",null));t["default"]=f.exports},"9ef3":function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.seePublishDialogVisible?a("div",{staticClass:"publish"},[a("el-dialog",{attrs:{title:e.parameter.title,visible:e.seePublishDialogVisible,"close-on-click-modal":!1,center:"",width:"80%"},on:{"update:visible":function(t){e.seePublishDialogVisible=t},open:e.handleOpen}},[a("el-form",{ref:"publishForm",staticClass:"publish_warp",attrs:{"label-width":"100px",model:e.parameter}},[a("el-form-item",{attrs:{label:"标题:"}},[a("span",{domProps:{textContent:e._s(e.parameter.data.title)}})]),a("el-form-item",{attrs:{label:"发布时间:"}},[a("span",[e._v(e._s(e._f("moment")(e.parameter.data.releasetime))+" ")])]),a("el-form-item",{staticClass:"rich_text",attrs:{label:"内容:"}},[a("vue-ueditor-wrap",{attrs:{config:e.myConfig},model:{value:e.parameter.data.content,callback:function(t){e.$set(e.parameter.data,"content",t)},expression:"parameter.data.content"}})],1)],1)],1)],1):e._e()},s=[],r={name:"publish",props:["parameter"],data:function(){return{seePublishDialogVisible:!1,myConfig:{autoHeightEnabled:!1,initialFrameHeight:450,initialFrameWidth:"100%",serverUrl:"http://35.201.165.105:8000/controller.php",UEDITOR_HOME_URL:"UEditor/"}}},methods:{beforeUpload:function(e){return!0},handleOpen:function(){console.log(this.parameter.jumParameter)}}},l=r,n=a("2877"),o=Object(n["a"])(l,i,s,!1,null,null,null);t["a"]=o.exports},d22b:function(e,t,a){"use strict";var i=a("281b"),s=a.n(i);s.a}}]);
//# sourceMappingURL=chunk-e7d24b5e.516852d0.js.map